#
# Project: <%= projectname %> 
# 
# Enter one of the following commands 
#
#  make, all, build		  Copy PHP files to LOCAL build directory
#
#  make clean, cleanall   Erases all PHP files in build directory
#
#  make install           Replace PHP files on REMOTE hosts directory
#                         (i.e. php) and runs make & make install.
#                         Requires script on remote host, and SSH key on host.
#
#############################################################################
#
#	VARIABLES & COMMANDS
#
#############################################################################

QUIET = @

CP := /bin/cp
ECHO := /bin/echo
CHOWN := /bin/chown
RMDIR := /bin/rm -f

SSH := /usr/bin/ssh
SCP := /usr/bin/scp

#############################################################################
#
#	MAKE ALL, MAKE BUILD (PHP)
#
#############################################################################

all build:
	$(QUIET) $(ECHO) [makefile]: Copy PHP files to build directory
	$(QUIET) - $(CP) *.php ../<%= builddirectory %>/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of PHP files 
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/*.php
#
	$(QUIET) $(ECHO) [makefile]: Copy PHP files to build directory assets
	$(QUIET) - $(CP) assets/*.php ../<%= builddirectory %>/assets/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of PHP files in assets
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/asset/*.php
#
	$(QUIET) $(ECHO) [makefile]: Copy CSS files to build directory css
	$(QUIET) - $(CP) assets/css/*.css ../<%= builddirectory %>/assets/css/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of CSS files in css
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/assets/css/*.css
#
	$(QUIET) $(ECHO) [makefile]: Copy FONTS files to build directory fonts
	$(QUIET) - $(CP) assets/fonts/* ../<%= builddirectory %>/assets/fonts/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of FONTS files in fonts
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/assets/fonts/*
#
	$(QUIET) $(ECHO) [makefile]: Copy IMG files to build directory img
	$(QUIET) - $(CP) assets/img/*-png ../<%= builddirectory %>/assets/img/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of IMG files in img
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/assets/img/*.png
#
	$(QUIET) $(ECHO) [makefile]: Copy JS files to build directory js
	$(QUIET) - $(CP) assets/js/*.js ../<%= builddirectory %>/assets/js/.
	$(QUIET) $(ECHO) [makefile]: Change ownership of JS files in js
	$(QUIET) - $(CHOWN) <%= username %>:<%= groupname %> ../<%= builddirectory %>/assets/js/*.js


#############################################################################
#
#	MAKE CLEAN, MAKE CLEANALL (PHP files in build directories)
#
#############################################################################

clean: cleanall

cleanall:
	$(QUIET) $(ECHO) [makefile]: Remove any PHP files in build directory
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/*.php
#
	$(QUIET) $(ECHO) [makefile]: Remove any PHP files in build directory assets
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/assets/*.php
#
	$(QUIET) $(ECHO) [makefile]: Remove any CSS files in build directory css
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/assets/css/*.css
#
	$(QUIET) $(ECHO) [makefile]: Remove any FONTS files in build directory fonts
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/assets/fonts/*
#
	$(QUIET) $(ECHO) [makefile]: Remove any IMG files in build directory img
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/assets/img/*.png
#
	$(QUIET) $(ECHO) [makefile]: Remove any JS files in build directory js
	$(QUIET) $(RMDIR) ../<%= builddirectory %>/assets/js/*.js
#

.PHONY: all build clean cleanall
